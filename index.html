<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Game Nhay Lau</title>
    <style>
        *{
            box-sizing: border-box;
            padding:0px;
        }
        .MainBox {
            line-height: 0;
            width:800px;
            height:600px;
            margin: 0 auto;
            background-color: black;
        }
         canvas{
            height:600px;
            width:800px;
            position: absolute;
        }
        #Mainlayer{
            z-index: 1;
        } 
        #BackgroundLayer{
            z-index: 0;
        } 
    </style>
</head>
<body>
    <div class="MainBox">
        <canvas id="Mainlayer"></canvas>
        <canvas id="BackgroundLayer"></canvas>
   

    </div>
    <script src="background.js"></script>
    <!-- <script src="Object.js"></script> -->
    
    <script>
    let Mainlayer = document.getElementById('Mainlayer'); 
    let ctxMain = Mainlayer.getContext('2d'); 
    function ImageObj(){
        this.bird=new Image();
        this.bullet= new Image();
        this.bird.src = "bird.png";
        this.bullet.src = "bullet.png";
    }
    ImageObj.prototype.init=function(x, y, width, height){
            this.x = x;
            this.y = y;
            this.width = width;
            this.height = height;
    }   

    let bird= new ImageObj();
    bird.init(100,100,5,6);
    function draw(){
        //khong truyen duoc tham so vao drawImages
        ctxMain.drawImage(bird.bird,bird.x,bird.y)
        window.requestAnimationFrame(draw);
    }
    function jump(){
        ctxMain.clearRect(0, 0, 800, 600)
        ctxMain.drawImage(bird.bird,bird.x,bird.y-=2)
        if(bird.y<20){
            window.requestAnimationFrame(drop)
        }
        console.log(bird.y)
        window.requestAnimationFrame(jump);
       
    }
    function drop(){
        ctxMain.clearRect(0, 0, 800, 600)
        ctxMain.drawImage(bird.bird,bird.x,bird.y+=2)
        if(bird.y>80){
            return
        }
        window.requestAnimationFrame(drop);
    }
    function whenPressSpace(){
            jump();
            
     }
        
    
    window.addEventListener("keypress",whenPressSpace);  
     
    
    </script>
</body>
</html>